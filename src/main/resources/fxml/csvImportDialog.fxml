<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.fpj.javafxcontroller.CsvImportDialogController"
            prefWidth="800.0" prefHeight="520.0"
            minWidth="480.0" minHeight="260.0"
            styleClass="rootDark"
            stylesheets="@/styles/transactionView.css">

    <center>
        <GridPane hgap="12.0" vgap="12.0"
                  BorderPane.alignment="CENTER"
                  styleClass="transaction-main-grid">
            <padding>
                <Insets top="12.0" right="12.0" bottom="12.0" left="12.0"/>
            </padding>

            <columnConstraints>
                <ColumnConstraints percentWidth="100.0"/>
            </columnConstraints>

            <rowConstraints>
                <RowConstraints vgrow="NEVER"/>
                <RowConstraints vgrow="ALWAYS"/>
            </rowConstraints>
            <StackPane GridPane.rowIndex="0">
                <VBox spacing="10.0"
                      styleClass="card">
                    <VBox spacing="2.0">
                        <Label text="CSV-Import"
                               styleClass="card-title"/>
                        <Label text="Transaktionen aus einer CSV-Datei importieren."
                               wrapText="true"
                               styleClass="label-small label-muted"/>
                    </VBox>

                    <GridPane hgap="10.0" vgap="10.0">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="CSV-Datei:"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="0"/>

                        <HBox spacing="8.0"
                              GridPane.rowIndex="0"
                              GridPane.columnIndex="1">
                            <Button fx:id="chooseFileButton"
                                    text="Datei auswählen"
                                    onAction="#onChooseFile"/>
                            <Label fx:id="selectedFileLabel"
                                   text="Keine Datei ausgewählt"
                                   wrapText="true"
                                   styleClass="label-small label-muted"/>
                        </HBox>

                        <Label text=""
                               GridPane.rowIndex="1"
                               GridPane.columnIndex="0"/>

                        <HBox spacing="8.0"
                              GridPane.rowIndex="1"
                              GridPane.columnIndex="1">
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button fx:id="startImportButton"
                                    text="Import starten"
                                    onAction="#onStartImport"/>
                        </HBox>
                    </GridPane>
                </VBox>
            </StackPane>

            <!-- Card 2: Importprotokoll / Lesefehler -->
            <StackPane GridPane.rowIndex="1">
                <VBox spacing="8.0"
                      styleClass="card">
                    <Label text="Importprotokoll"
                           styleClass="card-title"/>

                    <ListView fx:id="errorListView"
                              prefHeight="150.0"
                              VBox.vgrow="ALWAYS"
                              styleClass="transaction-list"/>
                </VBox>
            </StackPane>
        </GridPane>
    </center>
</BorderPane>
